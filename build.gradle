/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.10.1/samples
 */
plugins {
    id 'java' // Java plugin to compile Java code
}

//group = 'com.example' // Replace with your own group ID
version = '1.0-SNAPSHOT'

// Configuration variables for directories
ext {
    javadocDir = "./docs" // Directory where Javadoc will be generated
    destinationDocDir = 'C:/Official_Sandeep/SnowfallTravel/src/junction3/monorepo/node/docs/content-api/static/sdk-docs' // Directory where you want to copy the docs
    sourceDir = 'CalculatorSDK/src'
    docsDir = './docs'
}

// repositories {
//     mavenCentral() // To fetch any dependencies, if required
// }

// dependencies {
//     // Add any necessary dependencies here
// }

// Task to generate Javadoc
task generateJavadoc(type: Javadoc) {
    source = fileTree(dir: sourceDir, include: '**/*.java') // Adjust path if necessary
    destinationDir = file(docsDir)
}

// Task to copy generated Javadoc to destination directory
task copyJavadoc(type: Copy) {
    dependsOn generateJavadoc
    from javadocDir
    into destinationDocDir
    doLast {
        println "Javadoc copied to $destinationDocDir"
    }
}

tasks.build {
    dependsOn generateJavadoc // Automatically generate Javadoc during build
    finalizedBy copyJavadoc // Copy Javadoc to destination directory after build
}